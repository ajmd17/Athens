module range {
  import math

  type Range {
    first: Number
    last: Number
    step: Number

    '$invoke' = (self) * {
      i: Number = self.first
      
      while self.last - i != 0 {
        yield i
        i += self.step
      }
    }
  }

  make_range: Function = (first: Number, last: Number) {
    r: Range
    r.first = first
    r.last = last
    r.step = math::sign(first - last)
    return r
  }
}